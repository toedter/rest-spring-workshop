<main role="main" class="container">
  <br/>
  <h4>Movies</h4>
  <table class="table table-striped table-sm">
    <thead>
    <tr>
      <th style="text-align: left; width:1%;"></th>
      <th style="text-align: right; width:1%">No.</th>
      <th style="text-align: left; width:38%;">Title</th>
      <th style="text-align: left; width:25%;">Director(s)</th>
      <th style="text-align: left; width:5%;">Year</th>
      <th style="text-align: center; width:10%;">IMDB Rating</th>
      <th style="text-align: left; width:1%;"></th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let movie of movies">
      <td style="text-align: left">
        <img [src]="movie.attributes.thumb" height="50" width="35"/>
      </td>
      <td style="text-align: right;vertical-align:middle;">{{ movie.attributes.rank }}</td>
      <td style="text-align: left;vertical-align:middle;"><a style="text-decoration:none!important;"
                                                             routerLink="/movies/{{movie.id}}">{{ movie.attributes.title }}</a>
      </td>
      <td style="text-align: left;vertical-align:middle;">{{getDirectors(movie).join(', ')}}</td>
      <td style="text-align: left;vertical-align:middle;">{{ movie.attributes.year }}</td>

      <td style="text-align: left;vertical-align:middle;horiz-align:left">
        <star-rating staticColor="ok"
                     [starType]="'svg'" [showHalfStars]="true" [readOnly]="true"
                     [numOfStars]="10" [rating]="movie.attributes.rating">
        </star-rating>
      </td>
      <td style="text-align: left;vertical-align:middle;">{{ movie.attributes.rating }}</td>

    </tr>
    </tbody>
  </table>

  <nav aria-label="Page navigation example">
    <ul class="pagination">

      <li [class]="{'page-item':true, 'disabled':!links.first}">
        <a class="page-link" routerLink="" aria-label="First" (click)="getMovies(links.first)">
          <span aria-hidden="true">&laquo;</span>
          <span class="visually-hidden visually-hidden-focusable">First</span>
        </a>
      </li>

      <li [class]="{'page-item':true, 'disabled':!links.prev}">
        <a class="page-link" routerLink="" aria-label="Previous" (click)="getMovies(links.prev)">
          <span aria-hidden="true">&lsaquo;</span>
          <span class="visually-hidden">Previous</span>
        </a>
      </li>

      <li *ngFor="let item of getPages(); let i = index"
          [class]="{'page-item':true, 'active':page.number === i+getMinPage()}">
        <a class="page-link" routerLink=""
           (click)="getMoviesByPage(i+getMinPage())">{{ i + getMinPage() + 1}}</a>
      </li>

      <li [class]="{'page-item':true, 'disabled':!links.next}">
        <a class="page-link" routerLink="" aria-label="Next" (click)="getMovies(links.next)">
          <span aria-hidden="true">&rsaquo;</span>
          <span class="visually-hidden">Next</span>
        </a>
      </li>

      <li [class]="{'page-item':true, 'disabled':!links.last}">
        <a class="page-link" routerLink="" aria-label="Last" (click)="getMovies(links.last)">
          <span aria-hidden="true">&raquo;</span>
          <span class="visually-hidden">Last</span>
        </a>
      </li>
    </ul>

  </nav>
</main>
